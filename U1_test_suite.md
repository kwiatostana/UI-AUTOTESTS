## **Тестовый набор: Way2Automation Web UI Testing**

**Тестируемый проект:** Way2Automation Website  
**URL:** https://www.way2automation.com/  
**Инструменты:** Python, Selenium WebDriver, Pytest, Allure  

---

### **TC_MAIN_PAGE_001: Проверка отображения элементов главной страницы**

**Цель:** Убедиться в корректном отображении основных структурных блоков (хедер, слайдер курсов, футер) и их содержимого на главной странице.

**Предусловие:**
1. Открыт браузер.
2. Осуществлен переход на страницу: `https://www.way2automation.com/`.

**Тестовые данные:**
- Заголовок слайдера: "Most Popular Software Testing Courses".

**Шаги:**
1. Проверить отображение основных элементов страницы: Хедер, Блок навигации, Кнопка регистрации, Футер.
2. В хедере проверить наличие контактной информации: номера телефонов, ссылка на Skype, Email, иконки соцсетей.
3. Проскроллить до слайдера "Most Popular Software Testing Courses".
4. Получить ссылку (href) текущего активного слайда.
5. Нажать кнопку навигации слайдера "Вперед" (>) и убедиться, что href изменился (слайд переключился).
6. Нажать кнопку навигации слайдера "Назад" (<) и убедиться, что вернулся исходный href (слайд вернулся).
7. Проскроллить страницу в самый низ до футера.
8. Проверить содержимое футера: наличие адреса, телефонов (больше 0) и email адресов (больше 0).

**Ожидаемые результаты:**
*   Все основные блоки отображаются корректно.
*   Хедер содержит корректные контактные данные и ссылки (телефоны, Skype, Email, социальные сети).
*   Кнопки навигации слайдера работают корректно: href активного слайда изменяется при навигации вперед и возвращается к исходному при навигации назад.
*   Футер отображается и содержит адрес, телефоны (>0) и email адреса (>0).

**Постусловие:**
*   Закрыть браузер.

---

### **TC_NAV_SCROLL_002: Проверка поведения меню навигации при скроллинге**

**Цель:** Проверить, что навигационное меню фиксируется (остается видимым) при прокрутке страницы вниз.

**Предусловие:**
1. Открыт браузер.
2. Осуществлен переход на страницу: `https://www.way2automation.com/`.

**Шаги:**
1. Убедиться, что навигационное меню отображается в верхней части страницы.
2. Выполнить скроллинг страницы вниз.
3. Проверить видимость навигационного меню.

**Ожидаемые результаты:**
*   При прокрутке страницы меню остается зафиксированным в верхней части экрана (Sticky menu).
*   Меню доступно для взаимодействия.

**Постусловие:**
*   Закрыть браузер.

---

### **TC_NAV_TRANSITION_003: Проверка перехода по меню навигации**

**Цель:** Проверить корректность ссылок в меню навигации и успешный переход на целевую страницу.

**Предусловие:**
1. Открыт браузер.
2. Осуществлен переход на страницу: `https://www.way2automation.com/`.

**Тестовые данные:**
- Ожидаемый URL: `https://www.way2automation.com/lifetime-membership-club/`
- Ожидаемый заголовок: "LIFETIME MEMBERSHIP CLUB"

**Шаги:**
1. В главном меню навести курсор на пункт **All courses**.
2. В выпадающем списке нажать на подпункт **Lifetime membership**.
3. Дождаться загрузки страницы.
4. Проверить текущий URL и наличие заголовка H1 на странице.

**Ожидаемые результаты:**
*   Произошел переход на страницу `https://www.way2automation.com/lifetime-membership-club/`.
*   На странице отображается заголовок, содержащий текст "LIFETIME MEMBERSHIP CLUB".

**Постусловие:**
*   Закрыть браузер.

---

### **TC_LOGIN_FLOW_004: Проверка авторизации (UI, Negative, Positive, Logout)**

**Цель:** Проверить валидацию полей формы авторизации, обработку невалидных и валидных учетных данных, а также функцию выхода из системы.

**Предусловие:**
1. Открыт браузер.
2. Осуществлен переход на страницу: `https://www.way2automation.com/angularjs-protractor/registeration/#/login`.

**Тестовые данные:**
- **Valid User:** `angular` / `password`
- **Invalid User:** `invalid_user` / `invalid_password`
- **Ожидаемое сообщение об успехе:** "You're logged in!!"
- **Ожидаемое сообщение об ошибке:** "Username or password is incorrect"

**Тест 1: Проверка UI элементов (`test_login_input_fields_are_displayed`)**

**Шаги:**
1. Проверить отображение поля "Username".
2. Проверить отображение поля "Password".
3. Проверить состояние кнопки "Login" при пустых полях.

**Ожидаемые результаты:**
*   Поле "Username" отображается.
*   Поле "Password" отображается.
*   Кнопка "Login" заблокирована (неактивна).

---

**Тест 2: Негативный сценарий (`test_login_with_invalid_credentials_fails`)**

**Шаги:**
1. Ввести невалидные учетные данные (`invalid_user` / `invalid_password`).
2. Нажать кнопку "Login".
3. Проверить наличие сообщения об ошибке.

**Ожидаемые результаты:**
*   Отображается сообщение об ошибке: "Username or password is incorrect".

---

**Тест 3: Позитивный сценарий (`test_login_with_valid_credentials_succeeds`)**

**Шаги:**
1. Ввести валидные учетные данные (`angular` / `password`).
2. Нажать кнопку "Login".
3. Проверить наличие сообщения об успешной авторизации.

**Ожидаемые результаты:**
*   Отображается сообщение: "You're logged in!!".

---

**Тест 4: Проверка выхода из системы (`test_logout_returns_to_login_form`)**

**Шаги:**
1. Выполнить вход с валидными учетными данными (`angular` / `password`).
2. Нажать кнопку "Logout".
3. Закрыть всплывающее окно (popup), если отображается.
4. Проверить возврат к форме авторизации.

**Ожидаемые результаты:**
*   После выхода снова отображаются поля "Username" и "Password".
*   Форма авторизации доступна для повторного входа.

**Постусловие:**
*   Закрыть браузер.

---

### **TC_BANK_E2E_005: Набор тестов банковского приложения**

**Цель:** Проверить функциональность банковского приложения через набор независимых тестов, покрывающих полный пользовательский путь: регистрация, управление менеджера, операции клиента (депозит, снятие, транзакции) и удаление клиента.

**Базовые URL:**
- **Banking App:** `https://www.way2automation.com/angularjs-protractor/banking/#/login`
- **Sample Form:** `https://www.way2automation.com/angularjs-protractor/registeration/`

**Тестовые данные:**
- **Gender:** female
- **Hobby:** Sports
- **Deposit Amount:** 100321
- **Invalid Deposit:** 0
- **Large Withdrawal:** 1000000
- **Currency:** Dollar

---

**Тест 5.1: Регистрация в Sample Form (`test_registration_in_sample_form`)**

**Шаги:**
1. Открыть страницу Sample Form по прямой ссылке.
2. Получить список всех доступных хобби.
3. Найти самое длинное слово из списка хобби автоматически.
4. Заполнить форму регистрации (First Name, Last Name, Email, Password).
5. Выбрать хобби "Sports".
6. В поле "About Yourself" ввести: "Самое длинное слово из предложенных хобби - [вычисленное слово]".
7. Выбрать Gender: female.
8. Отправить форму (Submit).
9. Проверить появление сообщения об успехе.

**Ожидаемые результаты:**
*   Отображается сообщение: "User registered successfully!".

---

**Тест 5.2.1: Добавление клиента (`test_add_customer`)**

**Шаги:**
1. Открыть Banking App по прямой ссылке.
2. Нажать "Bank Manager Login".
3. Нажать "Add Customer".
4. Заполнить данные клиента (First Name, Last Name, Post Code).
5. Нажать "Add Customer".
6. Дождаться появления alert и принять его.

**Ожидаемые результаты:**
*   Alert появляется и принимается успешно.
*   Клиент добавлен в систему.

---

**Тест 5.2.2: Открытие счета (`test_open_account`)**

**Шаги:**
1. Открыть Banking App по прямой ссылке.
2. Нажать "Bank Manager Login".
3. Нажать "Open Account".
4. Проверить, что созданный клиент присутствует в выпадающем списке.
5. Выбрать клиента из списка.
6. Выбрать валюту "Dollar".
7. Нажать "Process".
8. Дождаться появления alert и принять его.

**Ожидаемые результаты:**
*   Клиент найден в списке.
*   Alert появляется и принимается успешно.
*   Счет открыт для клиента.

---

**Тест 5.3: Вход клиента и проверка приветствия (`test_customer_login_and_welcome`)**

**Шаги:**
1. Из страницы менеджера перейти на главную через "Home".
2. Нажать "Customer Login".
3. Выбрать созданного клиента из выпадающего списка.
4. Нажать "Login".
5. Извлечь имя из приветственного сообщения.
6. Проверить, что имя совпадает с именем созданного клиента.

**Ожидаемые результаты:**
*   Отображается приветствие с именем клиента (формат: "Welcome [FirstName] [LastName] !!").
*   Имя в приветствии совпадает с данными клиента.

---

**Тест 5.3.1: Успешное пополнение счета (`test_successful_deposit`)**

**Шаги:**
1. Перейти на главную, затем "Customer Login".
2. Выбрать клиента и войти.
3. Нажать "Deposit".
4. Ввести сумму `100321`.
5. Подтвердить операцию.
6. Проверить появление сообщения об успехе.
7. Перейти в "Transactions".
8. Проверить, что последняя транзакция содержит сумму `100321`.
9. Вернуться назад ("Back").

**Ожидаемые результаты:**
*   Отображается сообщение: "Deposit Successful".
*   В истории транзакций появляется запись о пополнении на `100321`.

---

**Тест 5.3.2: Неуспешное пополнение счета (`test_unsuccessful_deposit`)**

**Шаги:**
1. Перейти на главную, затем "Customer Login".
2. Выбрать клиента и войти.
3. Нажать "Deposit".
4. Ввести сумму `0`.
5. Подтвердить операцию.
6. Проверить ОТСУТСТВИЕ сообщения "Deposit Successful".
7. Перейти в "Transactions".
8. Проверить, что последняя транзакция НЕ содержит сумму `0`.
9. Вернуться назад ("Back").

**Ожидаемые результаты:**
*   Сообщение "Deposit Successful" НЕ отображается.
*   В истории транзакций НЕ появляется запись о пополнении на `0`.

---

**Тест 5.3.3: Успешное снятие средств (`test_successful_withdrawal`)**

**Шаги:**
1. Перейти на главную, затем "Customer Login".
2. Выбрать клиента и войти.
3. Получить текущий баланс.
4. Сгенерировать случайную сумму для снятия (меньше текущего баланса).
5. Нажать "Withdrawl".
6. Ввести сгенерированную сумму.
7. Подтвердить операцию.
8. Проверить появление сообщения об успехе.
9. Перейти в "Transactions".
10. Проверить наличие записи о снятии средств с этой суммой.
11. Вернуться назад ("Back").

**Ожидаемые результаты:**
*   Отображается сообщение: "Transaction successful".
*   В истории транзакций появляется запись о снятии с корректной суммой.

---

**Тест 5.3.4: Неуспешное снятие средств (`test_unsuccessful_withdrawal`)**

**Шаги:**
1. Перейти на главную, затем "Customer Login".
2. Выбрать клиента и войти.
3. Нажать "Withdrawl".
4. Ввести сумму `1000000` (заведомо больше баланса).
5. Подтвердить операцию.
6. Проверить появление сообщения об ошибке.
7. Перейти в "Transactions".
8. Проверить ОТСУТСТВИЕ записи о снятии суммы `1000000`.
9. Вернуться назад ("Back").

**Ожидаемые результаты:**
*   Отображается сообщение: "Transaction Failed. You can not withdraw amount more than the balance.".
*   В истории транзакций НЕ появляется запись о снятии `1000000`.

---

**Тест 5.3.5: Проверка баланса (`test_balance_verification`)**

**Шаги:**
1. Перейти на главную, затем "Customer Login".
2. Выбрать клиента и войти.
3. Получить текущий баланс с экрана.
4. Перейти в "Transactions".
5. Получить все транзакции из таблицы.
6. Рассчитать баланс по формуле: (Сумма Credit транзакций) - (Сумма Debit транзакций).
7. Сравнить расчетный баланс с балансом на экране.
8. Вернуться назад ("Back").

**Ожидаемые результаты:**
*   Баланс на экране совпадает с расчетным балансом из истории транзакций.

---

**Тест 5.3.6: Снятие всех оставшихся средств (`test_withdraw_all_remaining_funds`)**

**Шаги:**
1. Перейти на главную, затем "Customer Login".
2. Выбрать клиента и войти.
3. Получить текущий баланс.
4. Нажать "Withdrawl".
5. Ввести сумму, равную текущему балансу.
6. Подтвердить операцию.
7. Проверить появление сообщения об успехе.
8. Проверить, что баланс стал равен `0`.

**Ожидаемые результаты:**
*   Отображается сообщение: "Transaction successful".
*   Баланс на экране равен `0`.

---

**Тест 5.3.7: Очистка истории транзакций (`test_clear_transaction_history`)**

**Шаги:**
1. Перейти на главную, затем "Customer Login".
2. Выбрать клиента и войти.
3. Перейти в "Transactions".
4. Нажать "Reset".
5. Проверить, что количество транзакций стало равно `0` (таблица пуста).
6. Вернуться назад ("Back").
7. Проверить, что баланс равен `0`.

**Ожидаемые результаты:**
*   После сброса таблица транзакций пуста.
*   Баланс на главном экране равен `0`.

---

**Тест 5.4: Удаление клиента (`test_delete_customer`)**

**Шаги:**
1. Из страницы клиента перейти на главную через "Home".
2. Нажать "Bank Manager Login".
3. Нажать "Customers".
4. Ввести имя клиента в поле поиска.
5. Проверить, что клиент найден в таблице.
6. Нажать кнопку "Delete" для найденного клиента.
7. Очистить поле поиска.
8. Проверить, что клиент больше не присутствует в таблице.

**Ожидаемые результаты:**
*   Клиент найден через поиск перед удалением.
*   После удаления клиент исчезает из таблицы.

---

**Общие ожидаемые результаты набора:**
*   Все транзакции проходят согласно логике (успешные изменяют баланс, неуспешные — нет).
*   Баланс рассчитывается корректно на основе истории транзакций.
*   История транзакций сохраняется и очищается по требованию.
*   Клиент успешно создается и удаляется из системы.

**Постусловие:**
*   Закрыть браузер.